(window.webpackJsonpminesweeper=window.webpackJsonpminesweeper||[]).push([[0],{11:function(e,t){e.exports=function(e,t,n){for(var a=[],i=0;i<e*t;i++)a.push(0);for(var r=0;r<n;r++){var o=void 0,s=void 0;do{o=Math.floor(Math.random()*e),s=Math.floor(Math.random()*t)}while(-1===a[o*t+s]);a[o*t+s]=-1}for(var c=function(n){var i=n%e,r=Math.floor(n/e);if(0===a[r*e+i]){var o=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]];0===r&&(o=o.filter((function(e){return-1!==e[1]}))),r===Math.floor(a.length/e)-1&&(o=o.filter((function(e){return 1!==e[1]}))),0===i&&(o=o.filter((function(e){return-1!==e[0]}))),i===Math.floor(a.length/t)-1&&(o=o.filter((function(e){return 1!==e[0]}))),a[r*e+i]=o.reduce((function(t,n){return-1===a[(r+n[1])*e+i+n[0]]?++t:t}),0)}},l=0;l<e*t;l++)c(l);return a}},14:function(e,t,n){e.exports=n(22)},19:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(5),o=n.n(r),s=(n(19),n(3)),c=n.n(s),l=n(6),u=n(2),h=n(7),d=n(8),f=n(9),m=n(12),v=n(10),g=n(1),b=n(13),p=(n(21),n(11)),w=n.n(p);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(h.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e){return i.a.createElement("button",{type:"button",onClick:e.onClick,onContextMenu:e.onClick,"data-index":e.index})},j=[{width:10,height:10,mines:10},{width:15,height:15,mines:30},{width:20,height:20,mines:50}],k=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(m.a)(this,Object(v.a)(t).call(this,e))).state={width:j[0].width,height:j[0].height,mines:j[0].mines,board:[],time:0,finished:!1},n.timer=0,n.getDiffTime=n.getDiffTime.bind(Object(g.a)(n)),n.handleClick=n.handleClick.bind(Object(g.a)(n)),n.newGame=n.newGame.bind(Object(g.a)(n)),n.gameOver=n.gameOver.bind(Object(g.a)(n)),n.changeLevel=n.changeLevel.bind(Object(g.a)(n)),n}return Object(b.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){this.newGame()}},{key:"gameOver",value:function(e){this.setState(O({},this.state,{finished:!0})),clearInterval(this.timer),e?(console.log("You have won","Your time is ".concat(this.getDiffTime())),document.querySelector(".win").classList.add("visible"),document.querySelector(".win span").innerHTML=this.getDiffTime()):(console.log("Game over","Your time is ".concat(this.getDiffTime())),document.querySelector(".lost").classList.add("visible"))}},{key:"handleClick",value:function(e){var t=this;if(e.preventDefault(),this.state.finished)console.log("Game has already finished");else if("click"===e.type){if(!e.target.hasAttribute("flag")){var n=this.state.board[e.target.dataset.index];if(-1===n&&(e.target.classList.add("bomb"),this.gameOver(!1)),n>=0)if(e.target.classList.add("good"),0===n){for(var a=this.revealEmpty(e.target.dataset.index),i=0;i<a.length;i++)if(0===this.state.board[a[i]]){var r=this.revealEmpty(a[i]);a=(a=a.concat(r)).filter((function(e,t,n){return n.indexOf(e)===t}))}a.forEach((function(e){document.querySelector(".board button[data-index='".concat(e,"']")).classList.add("good"),document.querySelector(".board button[data-index='".concat(e,"']")).innerHTML=0===t.state.board[e]?"":t.state.board[e]}))}else e.target.innerHTML=n}document.querySelectorAll(".board button[class='good']").length===this.state.height*this.state.width-this.state.mines&&this.gameOver(!0)}else"contextmenu"===e.type&&(e.target.hasAttribute("flag")||Object(u.a)(e.target.classList).includes("good")?e.target.removeAttribute("flag"):e.target.setAttribute("flag",""))}},{key:"revealEmpty",value:function(e){var t=this,n=Math.floor(e/this.state.height),a=e%this.state.width;e=parseInt(e,10);var i=[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]];return 0===n&&(i=i.filter((function(e){return-1!==e[1]}))),n===this.state.height-1&&(i=i.filter((function(e){return 1!==e[1]}))),0===a&&(i=i.filter((function(e){return-1!==e[0]}))),a===this.state.width-1&&(i=i.filter((function(e){return 1!==e[0]}))),i.map((function(e){return(n+e[1])*t.state.width+a+e[0]})).filter((function(e){return-1!==t.state.board[e]})).filter((function(e){return!Object(u.a)(document.querySelector(".board button[data-index='".concat(e,"']")).classList).includes("good")}))}},{key:"changeLevel",value:function(e){var t=e.target.options.selectedIndex;this.setState(O({},this.state,{width:j[t].width,height:j[t].height,mines:j[t].mines}))}},{key:"newGame",value:function(){var e=this;Object(u.a)(document.querySelectorAll(".messages div")).forEach((function(e){return e.classList.remove("visible")})),document.querySelector(".board").setAttribute("style","--col:".concat(this.state.width)),this.setState(O({},this.state,{finished:!1,time:(new Date).getTime(),board:w()(this.state.width,this.state.height,this.state.mines)})),Object(u.a)(document.querySelectorAll(".board button")).map((function(e){var t;return(t=e.classList).remove.apply(t,Object(u.a)(e.classList)),e.innerHTML="",e.removeAttribute("flag"),e})),this.timer=setInterval(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.querySelector("#timer span").innerHTML=e.getDiffTime();case 1:case"end":return t.stop()}}),t)}))),1e3)}},{key:"getDiffTime",value:function(){var e=Math.floor(((new Date).getTime()-this.state.time)/1e3),t=e%60<10?"0"+e%60:e%60,n=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60);return"".concat(n,":").concat(t)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"messages"},i.a.createElement("div",{className:"win"},"Congratulation you have won!",i.a.createElement("br",null),"Your time is ",i.a.createElement("span",null,"00:00")),i.a.createElement("div",{className:"lost"},"You have lost!")),i.a.createElement("div",{className:"board"},this.state.board.map((function(t,n){return i.a.createElement(E,{key:n,onClick:e.handleClick,index:n,flag:!0})}))),i.a.createElement("div",{className:"menu"},i.a.createElement("p",{id:"timer"},"Time",i.a.createElement("span",null,"00:00")),i.a.createElement("select",{name:"",id:"",onChange:this.changeLevel},i.a.createElement("option",{value:"1"},"EASY (10x10 / 10 mines)"),i.a.createElement("option",{value:"2"},"MEDIUM (15x15 / 30 mines)"),i.a.createElement("option",{value:"3"},"HARD (20x20 / 50 mines)")),i.a.createElement("button",{onClick:this.newGame},"Reset")))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[14,1,2]]]);
//# sourceMappingURL=main.3c8d56d9.chunk.js.map